//
//  MyExploitViewController.m
//  CarWashing
//
//  Created by apple on 2017/11/21.
//  Copyright © 2017年 DS. All rights reserved.
//

#import "MyExploitViewController.h"
#import "CyStrategyViewController.h"
@interface MyExploitViewController ()<UITableViewDelegate,UITableViewDataSource>
@property (nonatomic,strong) UITableView * tableView;

@end

@implementation MyExploitViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    [self.view addSubview:self.tableView];
    [self setNav];
    UIView * headerView=[[UIView alloc]initWithFrame:CGRectMake(0, 0, Main_Screen_Width, 140)];
    headerView.backgroundColor = [UIColor colorFromHex:@"#314060"];
    headerView.userInteractionEnabled  = YES;
    UITapGestureRecognizer * tap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tapClick)];
    [headerView addGestureRecognizer:tap];
    self.tableView.tableHeaderView = headerView;
    //经验值
    UILabel *exceLabel = [[UILabel alloc]initWithFrame:CGRectMake(15, 30, 100, 40)];
    exceLabel.font=[UIFont systemFontOfSize:45.0];
    exceLabel.text = @"145";
    exceLabel.textAlignment = NSTextAlignmentCenter;
    exceLabel.textColor =[UIColor colorFromHex:@"#ffffff"];
    [headerView addSubview:exceLabel];
    UILabel *nameLabel = [[UILabel alloc]init];
    nameLabel.font=[UIFont systemFontOfSize:18.0];
    nameLabel.text = @"经验值";
    nameLabel.textColor =[UIColor colorFromHex:@"#ffffff"];
    [headerView addSubview:nameLabel];
    [nameLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        make.bottom.mas_equalTo(exceLabel.mas_bottom);
        make.left.mas_equalTo(exceLabel.mas_right);
        make.size.mas_equalTo(CGSizeMake(100, 20));
    }];
    UIImageView * rightimage=[[UIImageView alloc]init];
    rightimage.image= [UIImage imageNamed:@"jingyanzhi"];
    [headerView addSubview:rightimage];
    [rightimage mas_makeConstraints:^(MASConstraintMaker *make) {
        make.bottom.mas_equalTo(exceLabel.mas_bottom);
        make.right.mas_equalTo(headerView.mas_right).mas_offset(-15);
        make.size.mas_equalTo(CGSizeMake(45, 55));
    }];
    UIView * lineView=[[UIView alloc]init];
    lineView.backgroundColor = [UIColor colorFromHex:@"#687ca6"];
    [headerView addSubview:lineView];
    [lineView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.mas_equalTo(exceLabel.mas_bottom).mas_offset(25);
        make.left.mas_equalTo(headerView.mas_left);
        make.right.mas_equalTo(headerView.mas_right);
        make.height.mas_equalTo(1);
    }];
    //差的经验值
    UILabel *needExpLabel = [[UILabel alloc]init];
    needExpLabel.font=[UIFont systemFontOfSize:15.0];
    needExpLabel.text = @"还需234可升级";
    needExpLabel.textAlignment = NSTextAlignmentLeft;
    needExpLabel.textColor =[UIColor colorFromHex:@"#687ca6"];
    [headerView addSubview:needExpLabel];
    [needExpLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.mas_equalTo(lineView.mas_bottom);
        make.left.mas_equalTo(headerView.mas_left).mas_offset(15);
        make.size.mas_equalTo(CGSizeMake(150, 40));
    }];
    //升级攻略相关
    UIView * rightView=[[UIView alloc]init];
    rightView.backgroundColor=[UIColor colorFromHex:@"#687ca6"];
    rightView.layer.cornerRadius = 10;
    rightView.layer.masksToBounds = YES;
    [headerView addSubview:rightView];
    [rightView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.centerY.mas_equalTo(needExpLabel.mas_centerY);
        make.right.mas_equalTo(headerView.mas_right).mas_offset(-15);
        make.size.mas_equalTo(CGSizeMake(75, 20));
    }];
    UILabel *rightExpLabel = [[UILabel alloc]init];
    rightExpLabel.font=[UIFont systemFontOfSize:12.0];
    rightExpLabel.text = @"升级攻略";
    rightExpLabel.textAlignment = NSTextAlignmentCenter;
    rightExpLabel.textColor =[UIColor colorFromHex:@"#202c45"];
    [rightView addSubview:rightExpLabel];
    [rightExpLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.mas_equalTo(rightView.mas_top);
        make.bottom.mas_equalTo(rightView.mas_bottom);
        make.left.mas_equalTo(rightView.mas_left).mas_offset(8);
        make.width.mas_equalTo(50);
    }];
    UIImageView * rightimage1=[[UIImageView alloc]init];
    rightimage1.image= [UIImage imageNamed:@"dianjitiaozhuanMy"];
    [rightView addSubview:rightimage1];
    [rightimage1 mas_makeConstraints:^(MASConstraintMaker *make) {
        make.centerY.mas_equalTo(rightExpLabel.mas_centerY);
        make.right.mas_equalTo(rightView.mas_right).mas_offset(-5);
        make.size.mas_equalTo(CGSizeMake(7, 12));
    }];
}
-(void)setNav{
    UIView * view=[[UIView alloc]initWithFrame:CGRectMake(0, 0, Main_Screen_Width, 64)];
    view.backgroundColor=[UIColor colorFromHex:@"#314060"];
    [self.view addSubview:view];
    UIImageView * leftimage=[[UIImageView alloc]initWithFrame:CGRectMake(15, 30, 13, 20)];
    leftimage.image= [UIImage imageNamed:@"icon_titlebar_arrow"];
    [view addSubview:leftimage];
    UIButton * leftButton = [UIButton buttonWithType:UIButtonTypeCustom];
    leftButton.frame = CGRectMake(0, 0, 100, 64);
    [leftButton addTarget:self action:@selector(leftBtnClick) forControlEvents:UIControlEventTouchUpInside];
    [view addSubview:leftButton];
    UILabel * titleLabel = [[UILabel alloc]init];
    titleLabel.text=@"我的功勋";
    titleLabel.font=[UIFont boldSystemFontOfSize:18.0];
    titleLabel.textAlignment = NSTextAlignmentCenter;
    titleLabel.textColor=[UIColor whiteColor];
    [view addSubview:titleLabel];
    [titleLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        make.centerX.mas_equalTo(view.mas_centerX);
        make.centerY.mas_equalTo(leftimage.mas_centerY);
        make.size.mas_equalTo(CGSizeMake(200, 20));
    }];
}
-(void)leftBtnClick
{
    [self.navigationController popViewControllerAnimated:YES];
}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    if (section==0) {
        return 3;
    }
    return 1;
}
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString * cellID = @"cellID";
    UITableViewCell * cell = [_tableView dequeueReusableCellWithIdentifier:cellID];
    if (cell==nil) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellID];
    }
    
    return cell;
}
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{
    return 50;
}
- (nullable UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
    UILabel * titleLabel = [[UILabel alloc]initWithFrame:CGRectMake(0, 0, Main_Screen_Width, 50)];
    titleLabel.text = @"我获得的勋章";
    titleLabel.textAlignment = NSTextAlignmentCenter;
    titleLabel.font = [UIFont systemFontOfSize:18.0];
    titleLabel.textColor =[UIColor colorFromHex:@"#3f3f3f"];
    return titleLabel;
}
-(UITableView *)tableView
{
    if (_tableView ==nil) {
        _tableView = [[UITableView alloc]initWithFrame:CGRectMake(0, 64, Main_Screen_Width, Main_Screen_Height-64) style:UITableViewStylePlain];
        _tableView.delegate = self;
        _tableView.dataSource = self;
        _tableView.rowHeight = 50;
        _tableView.backgroundColor=[UIColor whiteColor];
        _tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
    }
    return _tableView;
}
-(void)tapClick
{
    CyStrategyViewController * vc =[[CyStrategyViewController alloc]init];
    vc.hidesBottomBarWhenPushed = YES;
    [self.navigationController pushViewController:vc animated:YES];
}
@end
